<div class="row">
  <div class="col-xxl-4 col-md-12">
    <div class="card info-card sales-card">
       <div class="card-body">
          <h5 class="card-title">Tareas</h5>
          <div class="d-flex align-items-center">
            <div class="card-icon rounded-circle d-flex align-items-center justify-content-center"><i class="fa-solid fa-book-open"></i></div>
             <div class="ps-3">
                <h6>{{cantidad_tareas.length}}</h6>
             </div>
          </div>
       </div>
    </div>
  </div>

  <div class="col-xxl-4 col-md-6">
    <div class="card info-card revenue-card">
       <div class="card-body">
          <h5 class="card-title">Exámenes</h5>
          <div class="d-flex align-items-center">
             <div class="card-icon rounded-circle d-flex align-items-center justify-content-center"><i class="fa-solid fa-book"></i></div>
             <div class="ps-3">
              <h6> 0 </h6>
             </div>
          </div>
       </div>
    </div>
  </div>


  <div class="col-xxl-4 col-xl-6">
    <div class="card info-card customers-card">
       <div class="card-body">
          <h5 class="card-title">Foros</h5>
          <div class="d-flex align-items-center">
             <div class="card-icon rounded-circle d-flex align-items-center justify-content-center"><i class="fa-solid fa-comments"></i></div>
             <div class="ps-3">
              <h6> 0 </h6>
             </div>
          </div>
       </div>
    </div>
  </div>
</div>

<div class="row">
    <div class="col-12">
      <div class="card">
         <div class="card-body">
          <br>
          <ul class="nav nav-tabs d-flex" id="myTabjustified" role="tablist">
            <li class="nav-item flex-fill" role="presentation"> <button class="nav-link w-100 active" id="tareas-curso-tab" data-bs-toggle="tab" data-bs-target="#tareas-curso-justified" type="button" role="tab" aria-controls="tareas-curso" aria-selected="true">Tareas</button></li>
            <li class="nav-item flex-fill" role="presentation"> <button class="nav-link w-100 disabled" id="examenes-curso-tab" data-bs-toggle="tab" data-bs-target="#examenes-curso-justified" type="button" role="tab" aria-controls="examenes-curso" aria-selected="false" disabled>Examenes</button></li>
            <li class="nav-item flex-fill" role="presentation"> <button class="nav-link w-100 disabled" id="foros-curso-tab" data-bs-toggle="tab" data-bs-target="#foros-curso-justified" type="button" role="tab" aria-controls="foros-curso" aria-selected="false" disabled>Foros</button></li>
          </ul>
          <div *ngIf="sppinerOn==true;else MostrarDataPerfilOverview">
            <app-loaderpeque></app-loaderpeque>
         </div>

         <ng-template #MostrarDataPerfilOverview>
          <div class="tab-content pt-2" id="myTabjustifiedContent">
              <div class="tab-pane fade show active" id="tareas-curso-justified" role="tabpanel" aria-labelledby="tareas-curso-tab">
                <div style="overflow-x: auto;">
                  <table class="table table-hover" *ngIf="tareas!='';else tablaVaciaT">
                    <thead>
                       <tr>
                          <th scope="col" class="text-center">Tarea</th>
                          <th scope="col" class="text-center">Descripción</th>
                          <!--- <th scope="col" class="text-center">Comentario del profesor</th> -->
                          <th scope="col" class="text-center">Entrega</th>
                          <th scope="col" class="text-center">Puntuación</th>
                       </tr>
                    </thead>
                    <tbody>
                       <tr *ngFor="let t of tareas">
                          <td align="center">{{t.nombre_actividad}}</td>
                          <td align="center">{{t.detalle}}</td>
                          <!---<td align="center"><button type="button" class="btn btn-primary rounded-pill" data-bs-toggle="modal" data-bs-target="#ModalComentario"> Ver Comentario</button> </td>-->
                          <td align="center">A tiempo</td>
                          <td align="center" *ngIf="t.nota==null;else notaNulaTar">No ingresada</td>
                            <ng-template #notaNulaTar>
                              <td class="text-center">{{t.nota}} /{{t.valor}}</td>
                            </ng-template>

                          <div class="modal fade" id="ModalComentario" tabindex="-1">
                            <div class="modal-dialog modal-dialog-centered">
                               <div class="modal-content">
                                  <div class="modal-header">
                                     <h5 class="modal-title">Comentario de Profesor</h5>
                                     <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                  </div>
                                  <div class="modal-body">Comentario típico de profesor</div>
                                  <div class="modal-footer"> <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button></div>
                               </div>
                            </div>
                         </div>

                       </tr>
                    </tbody>
                 </table>
                 <ng-template #tablaVaciaT>
                  <div class="alert alert-warning" role="alert">
                    Sin registros, no existen tareas asignadas
                  </div>
                </ng-template>
                </div>
              </div>
              <div class="tab-pane fade" id="examenes-curso-justified" role="tabpanel" aria-labelledby="examenes-curso-tab">
                <div class="alert alert-warning" role="alert">
                  Sin registros, no existen exámenes asignados
                </div>
              </div>
              <div class="tab-pane fade" id="foros-curso-justified" role="tabpanel" aria-labelledby="foros-curso-tab">
                <div style="overflow-x: auto;">
                  <table class="table table-hover" *ngIf="foros!='';else tablaVaciaF">
                    <thead>
                       <tr>
                          <th scope="col" class="text-center">Tema Foro</th>
                          <th scope="col" class="text-center">Participaciones</th>
                          <th scope="col" class="text-center">Puntuación</th>
                       </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let f of foros">
                            <td align="center">{{f.nombre_actividad}}</td>
                            <td align="center">5</td>
                            <td align="center" *ngIf="f.nota==null;else notaNulaFor">No ingresada</td>
                            <ng-template #notaNulaFor>
                              <td class="text-center">{{f.nota}} /{{f.valor}}</td>
                            </ng-template>
                        </tr>
                    </tbody>
                 </table>
                 <ng-template #tablaVaciaF>
                  <div class="alert alert-warning" role="alert">
                    Sin registros, no existen foros asignados
                  </div>
                </ng-template>
                </div>
              </div>
          </div>
          </ng-template>
         </div>
      </div>
    </div>
    <div class="col-12">
      <div class="accordion" id="accordionPanelsStayOpenExample">
        <div class="accordion-item">
          <h2 class="accordion-header" id="panelsStayOpen-headingOne">
            <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseOne" aria-expanded="true" aria-controls="panelsStayOpen-collapseOne">
              Punteo del Curso
            </button>
          </h2>
          <div id="panelsStayOpen-collapseOne" class="accordion-collapse collapse show" aria-labelledby="panelsStayOpen-headingOne">
            <div class="accordion-body">
              <div class="d-flex">
                <h5 class="card-title">Porcentaje de avance en el curso:</h5>
              </div>
              <div class="tab-content pt-2" id="myTabjustifiedContent">
                <div class="activity">
                  <div class="progress" style="height: 30px;">
                    <div class="progress-bar progress-bar-striped bg-warning progress-bar-animated" role="progressbar" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100" [ngStyle]="{ width: suma+ '%' }">{{suma+ '%'}}</div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="accordion-item">
          <h2 class="accordion-header" id="panelsStayOpen-headingTwo">
            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseTwo" aria-expanded="false" aria-controls="panelsStayOpen-collapseTwo">
              Tabla de Calificaciones del Curso
            </button>
          </h2>
          <div id="panelsStayOpen-collapseTwo" class="accordion-collapse collapse" aria-labelledby="panelsStayOpen-headingTwo">
            <div class="accordion-body">
              <div class="d-flex">
                <h5 class="card-title">Calificaciones del Curso</h5>
              </div>
              <div class="tab-content pt-2" id="myTabjustifiedContent">
                <div class="activity" *ngIf="calificacionesGet!='';else tablaVacia">
                  <div style="overflow-x: auto;">
                    <table class="table table-striped">
                      <thead>
                        <tr>
                            <th scope="col" class="text-center">Actividad</th>
                            <th scope="col" class="text-center">Tema</th>
                            <th scope="col" class="text-center">Punteo</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr *ngFor="let a of calificacionesGet">
                            <td align="center">{{a.tipoActividad}}</td>
                            <td align="center">{{a.nombre_actividad}}</td>
                            <td align="center" *ngIf="a.nota==null;else notaNulaCal">No ingresada</td>
                            <ng-template #notaNulaCal>
                              <td class="text-center">{{a.nota}} /{{a.valor}}</td>
                            </ng-template>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                  <div style="overflow-x: auto;">
                    <table class="table table-striped">
                      <thead>
                        <tr>
                            <th scope="col" style="text-align: right">Total</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr>
                            <td align="right">{{suma}}/100</td>
                        </tr>
                      </tbody>
                  </table>
                  </div>
                </div>
                <ng-template #tablaVacia>
                  <div class="alert alert-warning" role="alert">
                    Sin registros, no hay actividades asignadas
                  </div>
                </ng-template>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
</div>
