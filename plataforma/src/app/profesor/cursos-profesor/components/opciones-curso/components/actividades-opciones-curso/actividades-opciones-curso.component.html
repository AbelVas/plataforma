<!--Modal para seleccionar el tipo de actividad-->
<div class="modal fade" id="exampleModalToggle" aria-hidden="true" aria-labelledby="exampleModalToggleLabel" tabindex="-1">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="exampleModalToggleLabel">Tipo de Actividad</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div  *ngIf="tiposActividad.idTipoActividad!='';else nodata">
          <div class="row">
            <div *ngFor="let ta of tiposActividad" class="col-md-4 text-center">
              <div *ngIf="ta.estado==1;else conEnlace"  >
                <a   role="button" [attr.data-bs-target]="'#'+ta.modal" data-bs-toggle="modal">
                  <h5>{{ta.tipoActividad}}</h5>
                  <div>
                    <img [src]="ta.icono">
                  </div>
                </a>
              </div>
              <ng-template #conEnlace>
                <h5>{{ta.tipoActividad}}</h5>
                <div>
                  <img [src]="ta.icono">
                </div>
              </ng-template>
            </div>
          </div>
        </div>
        <ng-template #nodata>
          <div class="d-flex flex-column align-items-center">
            <svg height="200px" width="200px" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 496.158 496.158" xml:space="preserve" fill="#000000"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path style="fill:darkslateblue;" d="M248.082,0.002C111.07,0.002,0,111.062,0,248.085c0,137.001,111.07,248.07,248.082,248.07 c137.006,0,248.076-111.069,248.076-248.07C496.158,111.062,385.088,0.002,248.082,0.002z"></path> <g> <polygon style="fill:#DBBB00;" points="429.005,198.864 411.194,198.236 405.599,181.858 400.003,198.236 382.192,198.864 396.545,208.879 391.133,226.38 405.599,215.457 420.064,226.38 414.652,208.879 "></polygon> <polygon style="fill:#DBBB00;" points="412.877,203.293 417.067,191.88 406.544,198.381 396.848,191.247 399.916,202.888 389.998,210.281 402.152,210.583 405.984,222.678 410.164,210.834 422.714,211.305 "></polygon> <polygon style="fill:#DBBB00;" points="252.135,68.5 234.324,67.872 228.728,51.495 223.133,67.872 205.322,68.5 219.675,78.515 214.263,96.017 228.728,85.093 243.194,96.017 237.782,78.515 "></polygon> <polygon style="fill:#DBBB00;" points="236.007,72.929 240.197,61.517 229.674,68.018 219.977,60.883 223.046,72.524 213.128,79.917 225.282,80.22 229.114,92.314 233.294,80.471 245.844,80.941 "></polygon> <polygon style="fill:#DBBB00;" points="102.583,164.649 84.772,164.021 79.177,147.643 73.582,164.021 55.77,164.649 70.123,174.664 64.711,192.165 79.177,181.242 93.642,192.165 88.23,174.664 "></polygon> <polygon style="fill:#DBBB00;" points="86.455,169.078 90.645,157.665 80.122,164.166 70.426,157.032 73.494,168.673 63.576,176.066 75.73,176.369 79.562,188.463 83.742,176.62 96.292,177.09 "></polygon> </g> <path style="fill:#44A048;" d="M248.079,346.078c-134.544,0-215.647,24.703-215.647,24.703 c42.702,74.882,123.276,125.374,215.65,125.374c92.369,0,172.943-50.491,215.645-125.373 C463.726,370.781,382.623,346.078,248.079,346.078z"></path> <g> <path style="fill:#CCD3D6;" d="M245.08,279.6c-3.609,0-6.529,2.923-6.529,6.53v127.986c0,3.608,2.92,6.531,6.529,6.531 c3.604,0,6.529-2.923,6.529-6.531V286.132C251.609,282.523,248.684,279.6,245.08,279.6z"></path> <path style="fill:#CCD3D6;" d="M221.087,268.741c-3.349-1.345-7.149,0.278-8.493,3.625l-47.712,118.758 c-1.347,3.349,0.274,7.149,3.62,8.494c3.347,1.345,7.15-0.279,8.494-3.625l47.713-118.759 C226.055,273.887,224.428,270.086,221.087,268.741z"></path> <path style="fill:#CCD3D6;" d="M324.056,391.124l-47.712-118.758c-1.342-3.348-5.145-4.97-8.496-3.625 c-3.341,1.345-4.968,5.146-3.621,8.493l47.711,118.759c1.344,3.347,5.148,4.971,8.496,3.625 C323.779,398.273,325.402,394.473,324.056,391.124z"></path> </g> <path d="M324.056,391.124l-6.338-15.772c-2.714,3.68-7.819,5.74-12.296,4.422l6.516,16.219c1.344,3.347,5.148,4.971,8.496,3.625 C323.779,398.273,325.402,394.473,324.056,391.124z"></path> <path d="M171.533,375.352l-6.338,15.772c-1.348,3.349,0.275,7.149,3.621,8.494s7.152-0.279,8.496-3.625l6.516-16.219 C179.351,381.092,174.246,379.033,171.533,375.352z"></path> <path d="M251.62,396.664c-3.657,2.894-9.163,2.891-13.058,0.489l0.012,16.999c0,3.608,2.928,6.528,6.533,6.527 c3.604-0.002,6.529-2.929,6.527-6.536L251.62,396.664z"></path> <path d="M243.758,249.746c-13.852,0-40.593,12.993-40.593,19.855v15.277l41.435,7.134l41.385-7.134v-15.276 C285.984,262.74,257.61,249.746,243.758,249.746z"></path> <path style="fill:#353535;" d="M243.758,249.746c-13.852,0-40.593,12.993-40.593,19.855l41.435,6.043l41.385-6.043 C285.984,262.74,257.61,249.746,243.758,249.746z"></path> <path d="M231.33,200.912v11.465c0,2.196,1.779,3.975,3.973,3.975h18.543c2.196,0,3.974-1.779,3.974-3.975v-20.94L231.33,200.912z"></path> <path style="fill:#CCD3D6;" d="M344.225,94.55l-190.049,81.457c-1.427,0.542-2.145,2.133-1.605,3.559l4.15,10.955l-21.486,8.138 l-23.838,1.339l11.725,32.276l19.131-15.103l21.482-8.138l4.148,10.952c0.26,0.684,0.779,1.239,1.446,1.539 c0.362,0.163,0.749,0.244,1.134,0.244c0.33,0,0.664-0.06,0.979-0.179l196.316-64.924L344.225,94.55z"></path> <path style="fill:#D9DCDD;" d="M344.225,94.55l-190.049,81.457c-1.427,0.542-2.145,2.133-1.605,3.559l4.15,10.955l-21.486,8.138 l-23.838,1.339l2.264,16.782l273.904-104.597L344.225,94.55z"></path> <path style="fill:#282828;" d="M401.375,148.633L374.727,78.29c-0.261-0.685-0.779-1.238-1.447-1.539 c-0.668-0.3-1.428-0.324-2.111-0.064l-26.897,10.195c-1.425,0.539-2.144,2.132-1.604,3.558l1.559,4.111l23.533,62.115l1.56,4.115 c0.259,0.684,0.779,1.238,1.446,1.538c0.361,0.162,0.746,0.244,1.135,0.244c0.331,0,0.663-0.059,0.979-0.18l26.893-10.192 C401.195,151.651,401.913,150.057,401.375,148.633z"></path> <path d="M401.375,148.633l-13.811-36.451l-32.08,12.09l12.273,32.393l1.56,4.115c0.259,0.684,0.779,1.238,1.446,1.538 c0.361,0.162,0.746,0.244,1.135,0.244c0.331,0,0.663-0.059,0.979-0.18l26.893-10.192 C401.195,151.651,401.913,150.057,401.375,148.633z"></path> <path style="fill:#282828;" d="M111.394,199.996l-3.115,0.175c-0.879,0.05-1.681,0.515-2.162,1.252 c-0.479,0.737-0.578,1.658-0.266,2.481l10.914,28.809c0.313,0.823,0.998,1.448,1.845,1.682c0.241,0.067,0.493,0.1,0.737,0.1 c0.613,0,1.217-0.204,1.709-0.593l2.064-1.629L111.394,199.996z"></path> <path d="M117.014,215.461l-5.914,2.295l5.666,14.958c0.313,0.823,0.998,1.448,1.845,1.682c0.241,0.067,0.493,0.1,0.737,0.1 c0.613,0,1.217-0.204,1.709-0.593l2.064-1.629L117.014,215.461z"></path> <path d="M237.59,171.77v81.296c0,3.345,13.969,3.345,13.969,0v-81.296C251.558,168.424,237.59,168.424,237.59,171.77z"></path> <circle cx="243.969" cy="171.138" r="9.443"></circle> <circle style="fill:#353535;" cx="243.969" cy="171.138" r="4.427"></circle> </g></svg>
            <br>
            <h5 class="text-center">No hay tipos de Actividades Activas, comunícate con Soporte</h5>
          </div>
        </ng-template>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
      </div>
    </div>
  </div>
</div>
<div class="text-end mb-3">
    <a class="btn btn-warning"  data-bs-toggle="modal" href="#exampleModalToggle" role="button"><i class="fa-solid fa-plus"></i></a>
  </div>

  <div *ngIf="sppinerOn==true;else MostrarDataPerfilOverview">
    <app-loaderpeque></app-loaderpeque>
 </div>

 <ng-template #MostrarDataPerfilOverview>
  <!--Actividades en Cards-->
  <div class="row" *ngIf="listaActividades!='';else tablaVacia">
    <div class="col-xxl-4 col-md-6 mb-3" *ngFor="let a of listaActividades;let i = index">
      <div class="card h-100">
        <div class="card-body profile-card pt-4 d-flex flex-column align-items-center">
           <h5 class="card-title text-center">
            {{i+1}}. {{a.nombre_actividad}}
            <hr>
            <div><span>Valor: {{a.valor}}</span></div>
            <div><span>Fecha de Entrega: {{a.fecha_entrega | date:'dd/MM/yyyy'}}</span></div>
            <div><span>Tipo de Actividad: {{a.tipoActividad}}</span></div>
            <hr>
            <button class="btn btn-success m-1" data-bs-toggle="modal" data-bs-target="#VerActividadCompleta" (click)="buscarActividadArray(a.idDetalleActividad)"><i class="fa-solid fa-eye"></i></button>
            <button class="btn btn-warning m-1" data-bs-toggle="modal" data-bs-target="#DuplicarActividad" (click)="buscarActividadArray(a.idDetalleActividad)"><i class="fa-solid fa-copy"></i></button>
            <button class="btn btn-primary m-1" data-bs-toggle="modal" data-bs-target="#EditarTarea" (click)="buscarActividadArray(a.idDetalleActividad)"><i class="fa-solid fa-pen-to-square"></i></button>
            <button class="btn btn-secondary m-1" data-bs-toggle="modal" data-bs-target="#CalificarTarea" (click)="buscarActividadArray(a.idDetalleActividad);getAlumnoCalificacionActividad(a.idDetalleActividad,a.idUnidad)"><i class="fa-solid fa-award"></i></button>
            <button class="btn btn-danger m-1" data-bs-toggle="modal" data-bs-target="#EliminarActividad" (click)="buscarActividadArray(a.idDetalleActividad)"><i class="fa-solid fa-trash-can"></i></button>
           </h5>
        </div>
     </div>
    </div>
  </div>
  </ng-template>
  <ng-template #tablaVacia>
    <div class="d-flex flex-column align-items-center">
      <svg height="200px" width="200px" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 496.158 496.158" xml:space="preserve" fill="#000000"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"> <path style="fill:darkslateblue;" d="M248.082,0.002C111.07,0.002,0,111.062,0,248.085c0,137.001,111.07,248.07,248.082,248.07 c137.006,0,248.076-111.069,248.076-248.07C496.158,111.062,385.088,0.002,248.082,0.002z"></path> <g> <polygon style="fill:#DBBB00;" points="429.005,198.864 411.194,198.236 405.599,181.858 400.003,198.236 382.192,198.864 396.545,208.879 391.133,226.38 405.599,215.457 420.064,226.38 414.652,208.879 "></polygon> <polygon style="fill:#DBBB00;" points="412.877,203.293 417.067,191.88 406.544,198.381 396.848,191.247 399.916,202.888 389.998,210.281 402.152,210.583 405.984,222.678 410.164,210.834 422.714,211.305 "></polygon> <polygon style="fill:#DBBB00;" points="252.135,68.5 234.324,67.872 228.728,51.495 223.133,67.872 205.322,68.5 219.675,78.515 214.263,96.017 228.728,85.093 243.194,96.017 237.782,78.515 "></polygon> <polygon style="fill:#DBBB00;" points="236.007,72.929 240.197,61.517 229.674,68.018 219.977,60.883 223.046,72.524 213.128,79.917 225.282,80.22 229.114,92.314 233.294,80.471 245.844,80.941 "></polygon> <polygon style="fill:#DBBB00;" points="102.583,164.649 84.772,164.021 79.177,147.643 73.582,164.021 55.77,164.649 70.123,174.664 64.711,192.165 79.177,181.242 93.642,192.165 88.23,174.664 "></polygon> <polygon style="fill:#DBBB00;" points="86.455,169.078 90.645,157.665 80.122,164.166 70.426,157.032 73.494,168.673 63.576,176.066 75.73,176.369 79.562,188.463 83.742,176.62 96.292,177.09 "></polygon> </g> <path style="fill:#44A048;" d="M248.079,346.078c-134.544,0-215.647,24.703-215.647,24.703 c42.702,74.882,123.276,125.374,215.65,125.374c92.369,0,172.943-50.491,215.645-125.373 C463.726,370.781,382.623,346.078,248.079,346.078z"></path> <g> <path style="fill:#CCD3D6;" d="M245.08,279.6c-3.609,0-6.529,2.923-6.529,6.53v127.986c0,3.608,2.92,6.531,6.529,6.531 c3.604,0,6.529-2.923,6.529-6.531V286.132C251.609,282.523,248.684,279.6,245.08,279.6z"></path> <path style="fill:#CCD3D6;" d="M221.087,268.741c-3.349-1.345-7.149,0.278-8.493,3.625l-47.712,118.758 c-1.347,3.349,0.274,7.149,3.62,8.494c3.347,1.345,7.15-0.279,8.494-3.625l47.713-118.759 C226.055,273.887,224.428,270.086,221.087,268.741z"></path> <path style="fill:#CCD3D6;" d="M324.056,391.124l-47.712-118.758c-1.342-3.348-5.145-4.97-8.496-3.625 c-3.341,1.345-4.968,5.146-3.621,8.493l47.711,118.759c1.344,3.347,5.148,4.971,8.496,3.625 C323.779,398.273,325.402,394.473,324.056,391.124z"></path> </g> <path d="M324.056,391.124l-6.338-15.772c-2.714,3.68-7.819,5.74-12.296,4.422l6.516,16.219c1.344,3.347,5.148,4.971,8.496,3.625 C323.779,398.273,325.402,394.473,324.056,391.124z"></path> <path d="M171.533,375.352l-6.338,15.772c-1.348,3.349,0.275,7.149,3.621,8.494s7.152-0.279,8.496-3.625l6.516-16.219 C179.351,381.092,174.246,379.033,171.533,375.352z"></path> <path d="M251.62,396.664c-3.657,2.894-9.163,2.891-13.058,0.489l0.012,16.999c0,3.608,2.928,6.528,6.533,6.527 c3.604-0.002,6.529-2.929,6.527-6.536L251.62,396.664z"></path> <path d="M243.758,249.746c-13.852,0-40.593,12.993-40.593,19.855v15.277l41.435,7.134l41.385-7.134v-15.276 C285.984,262.74,257.61,249.746,243.758,249.746z"></path> <path style="fill:#353535;" d="M243.758,249.746c-13.852,0-40.593,12.993-40.593,19.855l41.435,6.043l41.385-6.043 C285.984,262.74,257.61,249.746,243.758,249.746z"></path> <path d="M231.33,200.912v11.465c0,2.196,1.779,3.975,3.973,3.975h18.543c2.196,0,3.974-1.779,3.974-3.975v-20.94L231.33,200.912z"></path> <path style="fill:#CCD3D6;" d="M344.225,94.55l-190.049,81.457c-1.427,0.542-2.145,2.133-1.605,3.559l4.15,10.955l-21.486,8.138 l-23.838,1.339l11.725,32.276l19.131-15.103l21.482-8.138l4.148,10.952c0.26,0.684,0.779,1.239,1.446,1.539 c0.362,0.163,0.749,0.244,1.134,0.244c0.33,0,0.664-0.06,0.979-0.179l196.316-64.924L344.225,94.55z"></path> <path style="fill:#D9DCDD;" d="M344.225,94.55l-190.049,81.457c-1.427,0.542-2.145,2.133-1.605,3.559l4.15,10.955l-21.486,8.138 l-23.838,1.339l2.264,16.782l273.904-104.597L344.225,94.55z"></path> <path style="fill:#282828;" d="M401.375,148.633L374.727,78.29c-0.261-0.685-0.779-1.238-1.447-1.539 c-0.668-0.3-1.428-0.324-2.111-0.064l-26.897,10.195c-1.425,0.539-2.144,2.132-1.604,3.558l1.559,4.111l23.533,62.115l1.56,4.115 c0.259,0.684,0.779,1.238,1.446,1.538c0.361,0.162,0.746,0.244,1.135,0.244c0.331,0,0.663-0.059,0.979-0.18l26.893-10.192 C401.195,151.651,401.913,150.057,401.375,148.633z"></path> <path d="M401.375,148.633l-13.811-36.451l-32.08,12.09l12.273,32.393l1.56,4.115c0.259,0.684,0.779,1.238,1.446,1.538 c0.361,0.162,0.746,0.244,1.135,0.244c0.331,0,0.663-0.059,0.979-0.18l26.893-10.192 C401.195,151.651,401.913,150.057,401.375,148.633z"></path> <path style="fill:#282828;" d="M111.394,199.996l-3.115,0.175c-0.879,0.05-1.681,0.515-2.162,1.252 c-0.479,0.737-0.578,1.658-0.266,2.481l10.914,28.809c0.313,0.823,0.998,1.448,1.845,1.682c0.241,0.067,0.493,0.1,0.737,0.1 c0.613,0,1.217-0.204,1.709-0.593l2.064-1.629L111.394,199.996z"></path> <path d="M117.014,215.461l-5.914,2.295l5.666,14.958c0.313,0.823,0.998,1.448,1.845,1.682c0.241,0.067,0.493,0.1,0.737,0.1 c0.613,0,1.217-0.204,1.709-0.593l2.064-1.629L117.014,215.461z"></path> <path d="M237.59,171.77v81.296c0,3.345,13.969,3.345,13.969,0v-81.296C251.558,168.424,237.59,168.424,237.59,171.77z"></path> <circle cx="243.969" cy="171.138" r="9.443"></circle> <circle style="fill:#353535;" cx="243.969" cy="171.138" r="4.427"></circle> </g></svg>
      <br>
      <h5 class="text-center">Sin registros, puedes añadir actividades en cualquier momento</h5>
    </div>
  </ng-template>
<!-- Calificar Actividad -->
<div class="modal fade" id="CalificarTarea" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog modal-xl">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="staticBackdropLabel">Calificar {{ActividadIndividualEdit.tipoActividad}}</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <table class="table table-bordered">
          <thead>
            <th class="text-center">
              No.
            </th>
            <th class="text-center">
              Alumno
            </th>
            <th class="text-center">
              Calificación
            </th>
            <th class="text-center">
              Total
            </th>
          </thead>
          <tbody>
            <tr *ngFor="let al of listaCalificacionAlumno;let i=index">
              <td class="text-center">
                {{i+1}}
              </td>
              <td class="text-center">
                {{al.alumno}}
              </td>
              <td class="text-center">
                  <input class="input-group-sm" [attr.id]="al.idAlumno" [value]="" (blur)="calificarActividad($event,ActividadIndividual.idDetalleActividad,al.idAlumno)"></td>
              <td class="text-center" *ngIf="al.nota==null;else notaNula">Nota no Ingresada /{{al.valor}}</td>
              <ng-template #notaNula>
                <td class="text-center">{{al.nota}} /{{al.valor}}</td>
              </ng-template>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
        <button type="button" class="btn btn-success"><i class="fa-solid fa-floppy-disk"></i> Guardar</button>
        <button class="btn btn-primary" (click)="validarCalificacionRefresh(ActividadIndividual.idDetalleActividad,ActividadIndividual.idUnidad)"><i class="fa-solid fa-check"></i> Validar</button>
      </div>
    </div>
  </div>
</div>
<!-- Modal Duplicar-->
<div class="modal fade" id="DuplicarActividad" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="staticBackdropLabel">Duplicar {{ActividadIndividualEdit.tipoActividad}}</h1>
        <button type="button" class="btn-close" #duplicarActividadCerrar data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">

        <div class="form-check" *ngFor="let curso of listaCursosDocente;let i=index">
            <div>
              <input class="form-check-input" type="checkbox" [value]="curso.idCurso" [name]="curso.nombre_curso" (change)="arregloCursosaCopiar($event)">
              <label class="form-check-label" for="flexCheckChecked">
                {{curso.nombre_curso+', '+curso.grado}}
              </label>
            </div>
        </div>

      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
        <button type="button" class="btn btn-primary" (click)="duplicarTareas(ActividadIndividual.idDetalleActividad,$event)">Duplicar</button>
      </div>
    </div>
  </div>
</div>
<!--Modal para Editar Actividad-->
<div class="modal fade" id="EditarTarea" aria-hidden="true" aria-labelledby="exampleModalToggleLabel2" tabindex="-1">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="exampleModalToggleLabel2">Editar {{ActividadIndividualEdit.tipoActividad}}</h1>
        <button type="button" class="btn-close" #editarActividadCerrar data-bs-dismiss="modal" aria-label="Close"></button>
      </div>

        <div class="modal-body">
          <div class="mb-3">
            <label class="form-label"><b>Bimestre:</b></label>
            <select class="form-select" [(ngModel)]="ActividadIndividualEdit.idUnidad" aria-label="Default select example">
              <option *ngFor="let u of unidadesModal" value="{{u.idUnidad}}">{{u.unidad}}</option>
            </select>
            <p class="text-primary">Actual: {{ActividadIndividual.unidad}}</p>
          </div>

          <div class="mb-3">
            <label class="form-label"><b>Nombre {{ActividadIndividualEdit.tipoActividad}}:</b></label>
            <input type="text" class="form-control" [(ngModel)]="ActividadIndividualEdit.nombre_actividad">
            <p class="text-primary">Actual: {{ActividadIndividual.nombre_actividad}}</p>
          </div>

          <div class="mb-3">
            <label class="form-label"><b>Fecha de Entrega:</b></label>
            <input type="date" class="form-control" [(ngModel)]="ActividadIndividual.fecha_entrega">
            <p class="text-primary">Actual: {{ActividadIndividual.fecha_entrega | date:'dd/MM/yyyy'}}</p>
          </div>

          <div class="mb-3">
            <label class="form-label"><b>Valor:</b></label>
            <input type="number" [(ngModel)]="ActividadIndividual.valor" class="form-control" min="0">
            <p class="text-primary">Actual: {{ActividadIndividual.valor+' pts'}}</p>
          </div>

          <div class="mb-3">
            <label class="form-label"><b>Detalle:</b></label>
            <textarea [(ngModel)]="ActividadIndividual.detalle" class="form-control" rows="7"></textarea>
          </div>

          <div class="mb-3">
            <label class="form-label"><b>Cotejo:</b></label>
            <textarea class="form-control" [(ngModel)]="ActividadIndividual.cotejo" rows="7"></textarea>
          </div>

          <hr>
          <div class="mb-3">
            <label for="formFile" class="form-label"><b>Recurso:</b></label>
            <input class="form-control" type="file" id="formFile">
          </div>


          <div class="form-check" *ngIf="(ActividadIndividual.tipoActividad=='Tarea'||ActividadIndividual.tipoActividad=='Exámen')">
            <hr>
            <div *ngIf="ActividadIndividualEdit.disponible==1;else disponibleNoCheckAlumno">
              <input class="form-check-input" type="checkbox" value="" id="flexCheckChecked" (change)="selectedCheckDisponibleEditar($event)"  checked>
              <label class="form-check-label" for="flexCheckChecked">
                Disponible para el Alumno
              </label>
            </div>
            <ng-template #disponibleNoCheckAlumno>
              <input class="form-check-input" type="checkbox" value="" (change)="noselectedCheckDisponibleEditar($event)" id="flexCheckChecked">
              <label class="form-check-label" for="flexCheckChecked">
                No Disponible para el Alumno
              </label><br>
              <small class="text-danger">(Si la tarea no está disponible para el alumno, servirá de control docente únicamente)</small>
            </ng-template>
          </div>

          <div class="form-check" *ngIf="(ActividadIndividual.tipoActividad=='Tarea'||ActividadIndividual.tipoActividad=='Exámen')">
            <hr>
            <div *ngIf="ActividadIndividualEdit.entrega_fuera_fecha==1;else disponibleNoCheck">
              <input class="form-check-input" type="checkbox" value="" id="flexCheckChecked" (change)="selectedCheckFueraFechaEditar($event)" checked>
              <label class="form-check-label" for="flexCheckChecked">
                Permitir entregas Fuera de Tiempo
              </label>
            </div>
            <ng-template #disponibleNoCheck>
              <input  class="form-check-input" type="checkbox" value="" (change)="noselectedCheckFueraFechaEditar($event)" id="flexCheckChecked">
              <label class="form-check-label" for="flexCheckChecked">
                No Permitir entregas Fuera de Tiempo
              </label>
            </ng-template>
          </div>
          <hr>
          <div class="mb-3" *ngIf="ActividadIndividual.ultima_modificacion!=null;else ultimaModifi">
            <span class="text"><b>Última Modificación: </b>{{ActividadIndividual.ultima_modificacion | date:'dd/MM/yyyy'}}</span>
          </div>
          <ng-template #ultimaModifi>
            <span class="text"><b>Última Modificación:</b><p class="text-primary"> Sin modificar</p></span>
          </ng-template>

        </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
        <button type="submit" class="btn btn-primary" (click)="editarActividad(ActividadIndividual.idDetalleActividad)">Editar Actividad</button>
      </div>
    </div>
  </div>
</div>
<!--Modal Ver Actividad Completa-->
<div class="modal fade" id="VerActividadCompleta" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="staticBackdropLabel">Detalles</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">

        <div class="mb-3">
          <label class="form-label"><b>Nombre de la Actividad: </b>{{ActividadIndividual.nombre_actividad}}</label>
        </div>

        <div class="mb-3">
          <label class="form-label"><b>Fecha de Entrega: </b>{{ActividadIndividual.fecha_entrega | date:'dd/MM/yyyy'}}</label>
        </div>

        <div class="mb-3">
          <label class="form-label"><b>Fecha de Creación: </b>{{ActividadIndividual.creada | date:'dd/MM/yyyy'}}</label>
        </div>

        <div class="mb-3">
          <label class="form-label"><b>Valor: </b>{{ActividadIndividual.valor+' pts.'}}</label>
        </div>

        <div class="mb-3">
          <label class="form-label"><b>Unidad: </b>{{ActividadIndividual.unidad}}</label>
        </div>

        <div class="mb-3">
          <label class="form-label"><b>Tipo de Actividad: </b>{{ActividadIndividual.tipoActividad}}</label>
        </div>

        <div class="mb-3" *ngIf="ActividadIndividual.ruta_acceso!=''">
          <label class="form-label"><b>Visible para Alumnos:</b></label>
          <br>
          <label *ngIf="ActividadIndividual.disponible=='1';else noDisponible" class="form-label">Coso para Descargar Recurso</label>
          <ng-template #noDisponible>
            <label class="form-label">- Sin Recurso Disponible -</label>
          </ng-template>
        </div>

        <div class="mb-3" *ngIf="(ActividadIndividual.tipoActividad=='Tarea'||ActividadIndividual.tipoActividad=='Exámen')">
          <label class="form-label"><b>Visible para Alumnos:</b></label>
          <br>
          <label *ngIf="ActividadIndividual.disponible=='1';else noDisponible" class="form-label"><span class="badge bg-success">Visible</span></label>
          <ng-template #noDisponible>
            <label class="form-label"><span class="badge bg-danger">Sin Visibilidad</span></label>
          </ng-template>
        </div>

        <div class="mb-3" *ngIf="(ActividadIndividual.tipoActividad=='Tarea'||ActividadIndividual.tipoActividad=='Exámen')">
          <label class="form-label"><b>Permitir entregas Tarde:</b></label>
          <br>
          <label *ngIf="ActividadIndividual.entrega_fuera_fecha=='1';else noPermitido" class="form-label"><span class="badge bg-success">Permitido</span></label>
          <ng-template #noPermitido>
            <label class="form-label"><span class="badge bg-danger">No Permitido</span></label>
          </ng-template>
        </div>

        <div class="mb-3">
          <label class="form-label"><b>Detalle:</b></label>
          <br>
          <label *ngIf="ActividadIndividual.detalle!='';else noDetalle" class="form-label">{{ActividadIndividual.detalle}}</label>
          <ng-template #noDetalle>
            <label class="form-label">*** No ingresado ***</label>
          </ng-template>
        </div>

        <div class="mb-3">
          <label class="form-label"><b>Cotejo:</b></label>
          <br>
          <label *ngIf="ActividadIndividual.cotejo!='';else noCotejo" class="form-label">{{ActividadIndividual.cotejo}}</label>
          <ng-template #noCotejo>
            <label class="form-label">*** No ingresado ***</label>
          </ng-template>
        </div>

        <div class="mb-3">
          <label class="form-label"><b>Última Modificación:</b></label>
          <br>
          <label class="form-label" *ngIf="ActividadIndividual.ultima_modificacion!=undefined;else modificadaTarea">{{ActividadIndividual.ultima_modificacion | date:'dd/MM/yyyy'}}</label>
          <ng-template #modificadaTarea>
            <label class="form-label">*** Sin modificar ***</label>
          </ng-template>
        </div>

      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Aceptar</button>
      </div>
    </div>
  </div>
</div>
<!--ModalEliminar-->
<div class="modal fade" id="EliminarActividad" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="staticBackdropLabel">Eliminar Actividad</h1>
        <button type="button" class="btn-close" #eliminarTareaModalCerrar data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div class="alert alert-danger" role="alert">Si se elimina la actividad, se eliminarán todas las notas y archivos relacionadas a la misma. <br><b>Esa acción de concretarse no se puede deshacer</b></div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
        <button type="button" class="btn btn-danger" (click)="eliminarActividad(ActividadIndividual.idDetalleActividad)">Eliminar</button>
      </div>
    </div>
  </div>
</div>
<!--Modal Crear Foro-->
<div class="modal fade" id="CrearForo" aria-hidden="true" aria-labelledby="exampleModalToggleLabel2" tabindex="-1">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="exampleModalToggleLabel2">Crear Foro</h1>
        <button type="button" class="btn-close" #crearForoModalCerrar data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <form [formGroup]="crearTareaForm" (ngSubmit)="crearForo()" action="">
        <div class="modal-body">
          <div class="mb-3">
            <label class="form-label">Bimestre:</label>
            <select formControlName="idUnidad" formControlName="idUnidad" class="form-select" [ngClass]="{ 'is-invalid': submitted && f.idUnidad.errors }" aria-label="Default select example">
              <option *ngFor="let u of unidadesModal" value="{{u.idUnidad}}">{{u.unidad}}</option>
            </select>
            <span class="text-danger" *ngIf="submitted&&f.idUnidad.invalid">*** Campo Obligatorio ***</span>
          </div>

          <div class="mb-3">
            <label class="form-label">Tema del Foro:</label>
            <input formControlName="nombre_actividad" type="text" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.nombre_actividad.errors }">
            <span class="text-danger" *ngIf="submitted&&f.nombre_actividad.invalid">*** Campo Obligatorio ***</span>
          </div>

          <div class="mb-3">
            <label class="form-label">Fecha de Entrega:</label>
            <input formControlName="fecha_entrega" type="date" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.fecha_entrega.errors }">
            <span class="text-danger" *ngIf="submitted&&f.fecha_entrega.invalid">*** Campo Obligatorio ***</span>
          </div>

          <div class="mb-3">
            <label class="form-label">Valor:</label>
            <input formControlName="valor" type="number" min="0" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.valor.errors }">
            <span class="text-danger" *ngIf="submitted&&f.valor.invalid">*** Campo Obligatorio ***</span>
          </div>

          <div class="mb-3">
            <label class="form-label">Detalle:</label>
            <textarea formControlName="detalle" class="form-control" rows="7"></textarea>
          </div>

          <div class="mb-3">
            <label class="form-label">Cotejo:</label>
            <textarea formControlName="cotejo" class="form-control" rows="7"></textarea>
          </div>

          <hr>
          <div class="mb-3">
            <label for="formFile" class="form-label">Recurso:</label>
            <input class="form-control" type="file" id="formFile">
          </div>

        </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" data-bs-target="#exampleModalToggle" data-bs-toggle="modal" >Regresar</button>
        <button type="submit" class="btn btn-primary">Crear Foro</button>
      </div>
    </form>
    </div>
  </div>
</div>
<!--Modal Crear Tarea-->
<div class="modal fade" id="CrearTarea" aria-hidden="true" aria-labelledby="exampleModalToggleLabel2" tabindex="-1">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="exampleModalToggleLabel2">Crear Tarea</h1>
        <button type="button" class="btn-close" #crearTareaModalCerrar data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <form [formGroup]="crearTareaForm" (ngSubmit)="crearTarea()" action="">
        <div class="modal-body">
          <div class="mb-3">
            <label class="form-label">Bimestre:</label>
            <select formControlName="idUnidad" formControlName="idUnidad" class="form-select" [ngClass]="{ 'is-invalid': submitted && f.idUnidad.errors }" aria-label="Default select example">
              <option *ngFor="let u of unidadesModal" value="{{u.idUnidad}}">{{u.unidad}}</option>
            </select>
            <span class="text-danger" *ngIf="submitted&&f.idUnidad.invalid">*** Campo Obligatorio ***</span>
          </div>

          <div class="mb-3">
            <label class="form-label">Nombre Tarea:</label>
            <input formControlName="nombre_actividad" type="text" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.nombre_actividad.errors }">
            <span class="text-danger" *ngIf="submitted&&f.nombre_actividad.invalid">*** Campo Obligatorio ***</span>
          </div>

          <div class="mb-3">
            <label class="form-label">Fecha de Entrega:</label>
            <input formControlName="fecha_entrega" type="date" class="form-control" [ngClass]="{ 'is-invalid': submitted && f.fecha_entrega.errors }">
            <span class="text-danger" *ngIf="submitted&&f.fecha_entrega.invalid">*** Campo Obligatorio ***</span>
          </div>

          <div class="mb-3">
            <label class="form-label">Valor:</label>
            <input formControlName="valor" type="number" class="form-control" min="0" [ngClass]="{ 'is-invalid': submitted && f.valor.errors }">
            <span class="text-danger" *ngIf="submitted&&f.valor.invalid">*** Campo Obligatorio ***</span>
          </div>

          <div class="mb-3">
            <label class="form-label">Detalle:</label>
            <textarea formControlName="detalle" class="form-control" rows="7"></textarea>
          </div>

          <div class="mb-3">
            <label class="form-label">Cotejo:</label>
            <textarea formControlName="cotejo" class="form-control" rows="7"></textarea>
          </div>

          <hr>
          <div class="mb-3">
            <label for="formFile" class="form-label">Recurso:</label>
            <input class="form-control" type="file" id="formFile">
          </div>

          <hr>
          <div class="form-check">
            <div *ngIf="propiedadActividad.disponible==1;else disponibleNoCheckAlumno">
              <input class="form-check-input" type="checkbox" value="" id="flexCheckChecked" (change)="selectedCheckDisponible($event)"  checked>
              <label class="form-check-label" for="flexCheckChecked">
                Disponible para el Alumno
              </label>
            </div>
            <ng-template #disponibleNoCheckAlumno>
              <input class="form-check-input" type="checkbox" value="" (change)="noselectedCheckDisponible($event)" id="flexCheckChecked">
              <label class="form-check-label" for="flexCheckChecked">
                No Disponible para el Alumno
              </label><br>
              <small class="text-danger">(Si la tarea no está disponible para el alumno, servirá de control docente únicamente)</small>
            </ng-template>
          </div>
          <hr>

          <div class="form-check">
            <div *ngIf="propiedadActividad.entrega_fuera_fecha==1;else disponibleNoCheck">
              <input class="form-check-input" type="checkbox" value="" id="flexCheckChecked" (change)="selectedCheckFueraFecha($event)" checked>
              <label class="form-check-label" for="flexCheckChecked">
                Permitir entregas Fuera de Tiempo
              </label>
            </div>
            <ng-template #disponibleNoCheck>
              <input  class="form-check-input" type="checkbox" value="" (change)="noselectedCheckFueraFecha($event)" id="flexCheckChecked">
              <label class="form-check-label" for="flexCheckChecked">
                No Permitir entregas Fuera de Tiempo
              </label>
            </ng-template>
          </div>

        </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" data-bs-target="#exampleModalToggle" data-bs-toggle="modal">Regresar</button>
        <button type="submit" class="btn btn-primary">Crear Actividad</button>
      </div>
    </form>
    </div>
  </div>
</div>
